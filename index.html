<html>
<head>
	<title>Raspberry-PI-Q</title>
	<meta charset="UTF-8" />
<style> 
table {
width:90%;
border-top:1px solid #e5eff8;
border-right:1px solid #e5eff8;
margin:1em auto;
border-collapse:collapse;
}
td {
color:#678197;
border-bottom:1px solid #e5eff8;
border-left:1px solid #e5eff8;
padding:.3em 1em;
text-align:left;
}

</style>
</head>
<?php	
	if (isset($_POST['RUN']))
	{			
		$grillSetupTemp = $_POST['grillSetupTemp'];
		$desiredGrillTemp = $_POST['desiredGrillTemp'];
		$desiredMeatTemp = $_POST['desiredMeatTemp'];
		$alertEmail = $_POST['alertEmail'];
		$alertFrequency = $_POST['alertFrequency'];
		$loopInterval = $_POST['loopInterval'];
		$uniqueName = $_POST['uniqueName'];
		$GROVE_API_KEY = $_POST['GROVE_API_KEY'];
		
		$command = "sudo python3 Raspberry-PI-Q.py " . $grillSetupTemp . " " . $desiredGrillTemp . " " . $desiredMeatTemp . " " . $alertEmail . " " . $alertFrequency . " " . $loopInterval . " " . $uniqueName . " " . $GROVE_API_KEY 
		echo $command
		//exec($command);
	}
	
	if (isset($_POST['KILL']))
	{
		//exec("sudo pkill python3");
	}
?>

<body>
	<h1>Raspberry-PI-Q Input Parameters</h1>
	<h3>Example invocation: sudo python3 Raspberry-PI-Q.py 180 225 125 email@address.com 5 30 Raspberry-PI-Q-Michael groove-api-guid</h3>
	welcome fulls <?php echo $command ?><br>
	<form method="post">
		<table>		
			<tr><td>Grill Setup Temperature (in Fahrenheit)</td><td>For example 180 is the setup temperature of the grill. The fan will run continuously until this temperature is reached</td><td><input name="grillSetupTemp" value="180"></td></tr>
			<tr><td>Grill Desired Temperature (in Fahrenheit)</td><td>For example 225 is the desired temperature of the grill. The program will turn on/off the fan to maintain this temperature</td><td><input name="desiredGrillTemp" value="225"></td></tr>
			<tr><td>Meat Desired Temperature (in Fahrenheit)</td><td>For example 125 is the desired temperature of the meat. Insert the probe in the meat and we will predict the time when it will be ready</td><td><input name="desiredMeatTemp" value="125"></td></tr>
			<tr><td>Notification Email Address</td><td>This is the email address for notifications. You can use 10digitphonenumber@txt.att.net or 10digitphonenumber@tmomail.net for email-to-text</td><td><input name="alertEmail" value="@tmomail.net @txt.att.net"></td></tr>
			<tr><td>Update Interval (in Minutes)</td><td>This is the interval in minutes you want to receive regular updates and notifications. Alerts will come immediately</td><td><input name="alertFrequency" value="5"></td></tr>
			<tr><td>Loop Interval (in Seconds)</td><td>This is the interval in seconds that each loop will take. if set to 30 seconds, assume the fan will run X seconds every 30 seconds. You can adjust this for more or less fan time during your interval</td><td><input name="loopInterval" value="30"></td></tr>
			<tr><td>Device Unique Name</td><td>This is the unique name for your device that you want to use for tracking analytics on Dweet, Freeboard, and Grovestreams</td><td><input name="uniqueName" value="Raspberry-PI-Q-[name]"></td></tr>
			<tr><td>Grill Setup Temperature</td><td>This is the unique application API ID you get from your grovestreams account</td><td><input name="GROVE_API_KEY" value="[guid]"></td></tr>
		</table>
		<input type="submit" name="RUN" value="Run Raspberry-PI-Q"/>
		&nbsp;
		<input type="submit" name="KILL" value="Kill any existing runs"/>		
	</form>
	
	<h2>Analytics</h2>
	<li><a target="new" href="https://dweet.io/follow/Raspberry-PI-Q-IPAddress">Get your IP Address - https://dweet.io/follow/Raspberry-PI-Q-IPAddress</a>
	<li><a target="new" href="https://freeboard.io/board/nrAnIB">Get the real-time analytics - https://freeboard.io/board/nrAnIB</a>
	<li><a target="new" href="https://www.grovestreams.com/observationStudio.html">View the historical analytics and alerts - https://www.grovestreams.com/observationStudio.html</a>		
</body>
</html>